<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/4a32509195.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SHS/RevoFit/Evaluation</title>
  <link rel="stylesheet" href="RevolFitActiveQuestions.css">

  <link rel="shortcut icon" href="images/Logos/flower_DB.webp">
</head>
<body>
  <main>
  
    <section class="Evaluation" id="Evaluation" >

      <div class="E-left">
        <div id="mobileImg"></div>
        <img id="IconLogo">
        <div class="TextContent" id="TextContent"></div>
      </div>
  
      <div class="E-right" id="RegistroBlock">
          <div class="Basic-Reg-mobile">
            <h1>Evaluación Física</h1>
            <div class="line" id="lines"></div>
          </div>
  
          <form class="EvaluationQuestions" id="EvaluationQuestions">
            <div class="form-grid">
    
              <div class="Block" id="one">
    
                <div class="form-group">
                  <div class="qIcon" id="pIcon"></div>
                  <div class="inputs">
                    <label for="peso">Peso kg.</label>
                    <input type="text" id="peso" placeholder="En kilogramos" required>
                    <span id="error-msg" style="color: red; display: none;">Peso esta fuera del rango permitido</span>
                  </div>
                </div>
    
                <div class="form-group">
                  <div class="qIcon" id="aIcon"></div>
                  <div class="inputs">
                    <label for="altura">Altura</label>
                    <input type="text" id="altura" placeholder="En centímetros" required>
                    <span id="error-msg-height" style="color: red; display: none;">Altura esta fuera del rango permitido</span>
                  </div>
                  
                </div>
    
                <div class="form-group">
                  <div class="qIcon" id="rIcon"></div>
                  <div class="inputs">
                    <label for="muneca">Perímetro de muñeca</label>
                    <input type="text" id="muneca" placeholder="En centímetros" required>
                    <span id="error-msg-wrist" style="color: red; display: none;">Perímetro de muñeca esta fuera del rango permitido</span>
                  </div>
                  
                </div>
    
                <div class="form-group">
                  <div class="qIcon" id="kIcon"></div>
                  <div class="inputs">
                    <label for="rodilla">Perímetro de rodilla</label>
                    <input type="text" id="rodilla" placeholder="En centímetros" required>
                  </div>
                  <span id="error-msg-Knee" style="color: red; display: none;">Perímetro de rodilla esta fuera del rango permitido</span>
                </div>
    
                <div class="form-group">
                  <div class="qIcon" id="wIcon"></div>
                  <div class="inputs">
                    <label for="cintura">Perímetro cintura</label>
                    <input type="text" id="cintura" placeholder="En centímetros" required>
                    <span id="error-msg-waist" style="color: red; display: none;">Perímetro de rodilla esta fuera del rango permitido</span>
                  </div>

                </div>
    
                <div class="form-group">
                  <div class="qIcon" id="hIcon"></div>
                  <div class="inputs">
                    <label for="cadera">Perímetro cadera</label>
                    <input type="text" id="cadera" placeholder="En centímetros" required>
                    <span id="error-msg-hips" style="color: red; display: none;">Perímetro de rodilla esta fuera del rango permitido</span>
                  </div>
                  
                </div>
    
                <button type="button" class="Btn" id="BtnTwo">Next</button>
    
              </div>
              
              <div class="Block" id="two">
    
                <div class="form-group">
                  <div class="qIcon" id="tIcon"></div>
                  <div class="inputs">
                    <label for="brazo-derecho">Perímetro brazo derecho</label>
                    <input type="text" id="brazo-derecho" placeholder="En centímetros" required>
                    <span id="error-msg-arm" style="color: red; display: none;">Perímetro de rodilla esta fuera del rango permitido</span>
                  </div>
                </div>
    
                <div class="form-group">
                  <div class="qIcon"  id="lIcon"></div>
                  <div class="inputs">
                    <label for="pierna-derecha">Perímetro de la pierna derecha</label>
                    <input type="text" id="pierna-derecha" placeholder="En centímetros" required>
                    <span id="error-msg-leg" style="color: red; display: none;">Perímetro de la pierna derecha esta fuera del rango permitido</span>
                  </div>
                  
                </div>
    
                <div class="form-group">
                  <div class="qIcon" id="nIcon"></div>
                  <div class="inputs">
                    <label for="cuello">Perímetro de cuello</label>
                    <input type="text" id="cuello" placeholder="En centímetros" required>
                    <span id="error-msg-neck" style="color: red; display: none;">Perímetro de cuello esta fuera del rango permitido</span>
                  </div>
                </div>

                <div class="form-group">
                  <div class="qIcon" id="hrIcon"></div>
                  <div class="inputs">
                    <label for="heartRate">Frecuencia Cardíaca en Reposo</label>
                    <input type="text" id="heartRate" placeholder="Latidos por minuto OPCIONAL">
                    <span id="error-msg-heartRate" style="color: red; display: none;">
                      Frecuencia cardíaca fuera del rango permitido
                    </span>
                  </div>
                </div>
    

                <div class="form-group-dropdown">
                  <div class="main-question" id="main-question-ejercicio">
                    <a>¿Haces ejercicio?</a>
                    <select id="ejercicio-select" name="ejercicio" required>
                      <option value=""selected disabled>Seleccione una opción</option>
                      <option value="true">Sí</option>
                      <option value="false">No</option>
                    </select>
                  </div>
                  
    
                  <div id="yes-extra-question" class="extra-question">
                    <label for="Exersise-frequency">¿Con qué frecuencia haces ejercicio en una semana?</label>
                    <select id="frequency" name="Exersise-frequency">
                      <option value=""selected disabled>Seleccione una opción</option>
                      <option value="1">1 vez a la semana</option>
                      <option value="2">2 veces a la semana</option>
                      <option value="3">3 veces a la semana</option>
                      <option value="4">4 veces a la semana</option>
                      <option value="5">5 veces a la semana</option>
                      <option value="6">6 veces a la semana</option>
                      <option value="7">Todos los días</option>
                    </select>
                  </div>
    
                  <div id="no-extra-question" class="extra-question">
                    <label for="exercise-time">¿Hace cuánto tiempo has hecho ejercicio?</label>
                    <select id="exercise-time" name="exercise-time">
                      <option value=""selected disabled>Seleccione una opción</option>
                      <option value="1-3-weeks">1 a 3 semanas</option>
                      <option value="1-3-months">1 a 3 meses</option>
                      <option value="4-6-months">4 a 6 meses</option>
                      <option value="7-11-months">7 a 11 meses</option>
                      <option value="1-year">1 año</option>
                      <option value="more-than-1-year">Más de 1 año</option>
                    </select>
                  </div>
    
                </div>





                <div class="form-group-dropdown">

                  <div class="main-question" id="main-question-drink">
                    <a>¿Bebes alcohol?</a>
                    <select id="drink-select" name="drink" required>
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="true">Sí</option>
                      <option value="false">No</option>
                    </select>
                  </div>

                  <div id="drink-consumption" class="drink-category">
                    <h3 class="drink-tittle">Cantidad de vasos (100 cc) consumidos</h3>
                  </div>

                  <div class="extra-question" id="ChooseDrink">
                      <label for="Drink">Bebidad</label>
                      <select id="Drink" name="Drink">
                        <option value="" selected disabled>Seleccione una opción</option>
                        <option value="Cerveza">Cerveza</option>
                        <option value="Vino">Vino y Espumante</option>
                        <option value="Destilados">Destilados</option>
                      </select>
                  </div>
                  
                  <div class="extra-question" id="drink-category-amount">
                      <label for="amount">Cantidad</label>
                      <select id="amount" name="amount">
                        <option value="" selected disabled>Seleccione una opción</option>
                        <option value="1-3">1 a 3</option>
                        <option value="4-6">4 a 6</option>
                        <option value="7-10">7 a 10</option>
                        <option value="10-14">10 a 14</option>
                        <option value="more-than-14">Más de 14</option>
                        <option value="never">Nunca</option>
                      </select>
                  </div>
                  

                  <div id="yes-extra-question-drink" class="extra-question">
                    <label for="drink-frequency">¿Con qué frecuencia consumes alcohol en una semana?</label>
                    <select id="drink-frequency" name="drink-frequency">
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="1">1 vez a la semana</option>
                      <option value="2">2 veces a la semana</option>
                      <option value="3">3 veces a la semana</option>
                      <option value="4">4 veces a la semana</option>
                      <option value="5">5 veces a la semana</option>
                      <option value="6">6 veces a la semana</option>
                      <option value="7">Todos los días</option>
                    </select>
                  </div>
                
                  <div id="no-extra-question-drink" class="extra-question">
                    <label for="quit-drinking-time">¿Hace cuánto tiempo dejaste de consumir alcohol o nunca?</label>
                    <select id="quit-drinking-time" name="quit-drinking-time">
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="never">Nunca</option>
                      <option value="1-3-weeks">1 a 3 semanas</option>
                      <option value="1-3-months">1 a 3 meses</option>
                      <option value="4-6-months">4 a 6 meses</option>
                      <option value="7-11-months">7 a 11 meses</option>
                      <option value="1-year">1 año</option>
                      <option value="more-than-1-year">Más de 1 año</option>
                    </select>
                  </div>

                </div>

                
                
                
                
                
    
                <div class="form-group-dropdown">
                  <div class="main-question" id="main-question-smoking">
                    <a>¿Fumas?</a>
                    <select id="smoking-select" name="smoking" required>
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="true">Sí</option>
                      <option value="false">No</option>
                    </select>
                  </div>
                
                  <div id="yes-smoking-extra" class="extra-question">
                    <label for="smoking-years-select">¿Cuántos años has fumado?</label>
                    <select id="smoking-years-select" name="smoking-years">
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="0-1">Menos de 1 año</option>
                      <option value="1-5">1 a 5 años</option>
                      <option value="6-10">6 a 10 años</option>
                      <option value="11-20">11 a 20 años</option>
                      <option value="21-plus">Más de 20 años</option>
                    </select>
                  </div>
                
                  <div id="no-smoking-extra" class="extra-question">
                    <label for="quit-smoking-time">¿Hace cuánto tiempo dejaste de fumar?</label>
                    <select id="quit-smoking-time" name="quit-smoking-time">
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="1-3-weeks">1 a 3 semanas</option>
                      <option value="1-3-months">1 a 3 meses</option>
                      <option value="4-6-months">4 a 6 meses</option>
                      <option value="7-11-months">7 a 11 meses</option>
                      <option value="1-year">1 año</option>
                      <option value="more-than-1-year">Más de 1 año</option>
                    </select>
                  </div>
                </div>
                <button type="button" class="Btn" id="BtnThree">Next</button>
                
                
              </div>
    
                
            </div>

            <div class="form-grid">
              <div class="Block" id="three">
                <a class="bTittle">¿Presenta alguna de estas Enfermedades  No Transmisibles (ENT)?</a>
    
                <div class="form-group-check">
                  <!-- Hipercolesteremia -->
                  <div class="checkBoxBlock">
                    <label for="Hipercolesteremia">Hipercolesteremia</label>
                    <input class="box" type="checkbox" id="Hipercolesteremia" name="Hipercolesteremia" value="true" />
                  </div>

                  <div class="hiddenQuestion" id="HipercolesteremiaTratadoBlock" style="display: none;">
                    <a>Marque si está en tratamiento</a>
                    <select id="HipercolesteremiaTratado-select" name="HipercolesteremiaTratado">
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="true">Sí</option>
                      <option value="false">No</option>
                    </select>
                  </div>
                </div>
                
                <div class="form-group-checkbox">
                  <!-- Diabetes -->
                  <div class="checkBoxBlock">
                    <label for="Diabetes">Diabetes</label>
                    <input class="box" type="checkbox" id="Diabetes" name="Diabetes" value="true" />
                  </div>



                  <div class="hiddenQuestion" id="DiabeteTratadoBlock" style="display: none;">
                    <a class="hiddentittle">Marque si está en tratamiento</a>

                    <select id="DiabeteTratado-select" name="DiabeteTratado">
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="true">Sí</option>
                      <option value="false">No</option>
                    </select>
                  </div>



                </div>
                




                <div class="form-group-check">
                  <!-- Obesidad -->
                  <div class="checkBoxBlock">
                    <label for="Obesidad">Obesidad</label>
                    <input class="box" type="checkbox" id="Obesidad" name="Obesidad" value="true" />
                  </div>
                  <div class="hiddenQuestion" id="ObesidadTratadoBlock" style="display: none;">
                    <a>Marque si está en tratamiento</a>
                    <select id="ObesidadTratado-select" name="ObesidadTratado">
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="true">Sí</option>
                      <option value="false">No</option>
                    </select>
                  </div>
                </div>
                
                <div class="form-group-check">
                  <!-- Hígado Graso -->
                  <div class="checkBoxBlock">
                    <label for="HígadoGraso">Hígado Graso</label>
                    <input class="box" type="checkbox" id="HígadoGraso" name="HígadoGraso" value="true" />
                  </div>
                  <div class="hiddenQuestion" id="HígadoGrasoTratadoBlock" style="display: none;">
                    <a>Marque si está en tratamiento</a>
                    <select id="HígadoGrasoTratado-select" name="HígadoGrasoTratado">
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="true">Sí</option>
                      <option value="false">No</option>
                    </select>
                  </div>
                </div>
                
                <div class="form-group-check">
                  <!-- Otra ENT -->
                  <div class="checkBoxBlock">
                    <label for="OtraECNT">Otra ENT</label>
                    <input class="box" type="checkbox" id="OtraECNT" name="OtraECNT" value="true" />
                  </div>
                  <div class="hiddenQuestion" id="OtraECNTTratadoBlock" style="display: none;">
                    <a>Marque si está en tratamiento</a>
                    <select id="OtraECNTTratado-select" name="OtraECNTTratado">
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="true">Sí</option>
                      <option value="false">No</option>
                    </select>
                  </div>
                </div>
    

                <button type="button" class="Btn" id="BtnFour">Next</button>
              </div>
    
              <div class="Block" id="four">
                <a class="bTittle">¿Presenta alguna enfermedad Autoinmune?</a>
    
                <div class="form-group-check">
                  <!-- Lupus -->
                  <div class="checkBoxBlock">
                    <label for="Lupus">Lupus</label>
                    <input class="box" type="checkbox" id="Lupus" name="Lupus" />
                  </div>
                  <div class="hiddenQuestion" id="LupusTratadoBlock" style="display: none;">
                    <a>Marque si está en tratamiento</a>
                    <select id="LupusTratado-select" name="LupusTratado">
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="true">Sí</option>
                      <option value="false">No</option>
                    </select>
                  </div>
                </div>
                
                <div class="form-group-check">
                  <!-- Celíaca -->
                  <div class="checkBoxBlock">
                    <label for="Celíaca">Celíaca</label>
                    <input class="box" type="checkbox" id="Celíaca" name="Celíaca" value="true" />
                  </div>
                  <div class="hiddenQuestion" id="CelíacaTratadoBlock" style="display: none;">
                    <a>Marque si está en tratamiento</a>
                    <select id="CelíacaTratado-select" name="CelíacaTratado">
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="true">Sí</option>
                      <option value="false">No</option>
                    </select>
                  </div>
                </div>
                
                <div class="form-group-check">
                  <!-- Cáncer -->
                  <div class="checkBoxBlock">
                    <label for="Cáncer">Cáncer</label>
                    <input class="box" type="checkbox" id="Cáncer" name="Cáncer" value="true" />
                  </div>
                  <div class="hiddenQuestion" id="CáncerTratadoBlock" style="display: none;">
                    <a>Marque si está en tratamiento</a>
                    <select id="CáncerTratado-select" name="CáncerTratado">
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="true">Sí</option>
                      <option value="false">No</option>
                    </select>
                  </div>
                </div>
                
                <div class="form-group-check">
                  <!-- VIH -->
                  <div class="checkBoxBlock">
                    <label for="VIH">VIH</label>
                    <input class="box" type="checkbox" id="VIH" name="VIH" value="true" />
                  </div>
                  <div class="hiddenQuestion" id="VIHTratadoBlock" style="display: none;">
                    <a>Marque si está en tratamiento</a>
                    <select id="VIHTratado-select" name="VIHTratado">
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="true">Sí</option>
                      <option value="false">No</option>
                    </select>
                  </div>
                </div>
                
                <div class="form-group-check">
                  <!-- Artritis -->
                  <div class="checkBoxBlock">
                    <label for="Artritis">Artritis</label>
                    <input class="box" type="checkbox" id="Artritis" name="Artritis" value="true" />
                  </div>
                  <div class="hiddenQuestion" id="ArtritisTratadoBlock" style="display: none;">
                    <a>Marque si está en tratamiento</a>
                    <select id="ArtritisTratado-select" name="ArtritisTratado">
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="true">Sí</option>
                      <option value="false">No</option>
                    </select>
                  </div>
                </div>
                
                <div class="form-group-check">
                  <!-- Otra enfermedad autoinmune -->
                  <div class="checkBoxBlock">
                    <label for="OEA">Otra enfermedad </label>
                    <input class="box" type="checkbox" id="OEA" name="OEA" value="true" />
                  </div>
                  <div class="hiddenQuestion" id="OEATratadoBlock" style="display: none;">
                  
                    

                    <a>Marque si está en tratamiento</a>
                    <select id="OEATratado-select" name="OEATratado">
                      <option value="" selected disabled>Seleccione una opción</option>
                      <option value="true">Sí</option>
                      <option value="false">No</option>
                    </select>
                  </div>
                </div>
    
    
                <button type="submit" class="Btn" id="rSendBtn">Submit</button>
    
              </div>
            </div>
          
          </form>
  
      </div>

    </section>

  </main>

  <script type="module" src="RevolFitActiveQuestions.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js')
        .then(() => console.log('Service Worker Registered'))
        .catch(err => console.error('Service Worker Registration Failed:', err));
    }
  </script>
</body>
</html>









import { 
  initializeApp 
} from "https://www.gstatic.com/firebasejs/9.1.1/firebase-app.js";
import { 
  getAuth, 
  signInWithEmailAndPassword, 
  onAuthStateChanged, 
  signOut 
} from "https://www.gstatic.com/firebasejs/9.1.1/firebase-auth.js";
import { 
  getFirestore, 
  doc, 
  getDoc, 
  updateDoc, 
  serverTimestamp 
} from "https://www.gstatic.com/firebasejs/9.1.1/firebase-firestore.js";

let db, auth; // Declare Firestore and Auth globally

// Fetch Firebase configuration
async function fetchFirebaseConfig() {
  try {
    console.log("Fetching Firebase config...");
    const response = await fetch("http://localhost:3000/firebase-config"); // Change when deploying
    if (!response.ok) throw new Error("Failed to fetch Firebase config");
    return await response.json();
  } catch (error) {
    console.error("Error fetching Firebase config:", error);
    return null;
  }
}

// Initialize Firestore and Auth
async function initializeFirebase() {
  if (db && auth) return; // Prevent duplicate initialization

  try {
    const firebaseConfig = await fetchFirebaseConfig();
    if (!firebaseConfig) throw new Error("Firebase config is undefined");

    const app = initializeApp(firebaseConfig);
    db = getFirestore(app);
    auth = getAuth(app);

    console.log("Firestore and Auth initialized");

    await initializeFirestoreFunctions();
  } catch (error) {
    console.error("Error initializing Firebase:", error);
  }
}
// Wait for Firebase initialization
await initializeFirebase();

async function initializeFirestoreFunctions() {
  console.log("Initializing Firestore-related functions...");
  // Add any Firestore setup code here if needed.
}
 // Retrieve data from localStorage
 const transferreduserInfo = localStorage.getItem("transferreduserInfo");
 const transferredInfo = localStorage.getItem("transferredInfo");
 
console.log("Transferred User Info:", transferreduserInfo);
console.log("Transferred Info:", transferredInfo);


// Check if a document exists in Firestore
async function checkDocumentExists(collectionName, documentId) {
  if (!collectionName || !documentId) {
    console.error("Collection name or document ID is missing.");
    return null;
  }

  if (!db) {
    console.error("Firestore instance is not initialized.");
    return null;
  }

  try {
    const docRef = doc(db, collectionName, documentId);
    console.log(`Checking document: ${collectionName}/${documentId}`);

    const docSnap = await getDoc(docRef);
    if (docSnap.exists()) {
      console.log("Document found:", docSnap.data());
      return docSnap.data();
    } else {
      console.log(`No document found with ID: ${documentId}`);
      return null;
    }
  } catch (error) {
    console.error("Error checking document:", error);
    return null;
  }
}
// Check if a business-related document exists
checkDocumentExists("RevoBusiness", transferredInfo);

// const Content = await checkDocumentExists("RevolApp", "Content");
// const Tiers = await checkDocumentExists("RevolApp", "Tiers");
// const Buissnes = await checkDocumentExists("RevoBuissnes", transferredInfo);
 //const User = await checkDocumentExists('users', transferreduserInfo);





// Fetch census info
async function getCensoInfo() {
  try {
    const docRef = doc(db, 'users', transferreduserInfo);
    const docSnap = await getDoc(docRef);

    if (docSnap.exists()) {
      return docSnap.data();
    } else {
      console.log("No such document!");
      return null;
    }
  } catch (error) {
    console.error("Error fetching document:", error);
    return null;
  }
}

// Submission logic
document.getElementById("EvaluationQuestions").addEventListener("submit", async (event) => {
  event.preventDefault();

  const formData = {
    peso: document.getElementById("peso")?.value || null,
    altura: document.getElementById("altura")?.value || null,
    muneca: document.getElementById("muneca")?.value || null,
    rodilla: document.getElementById("rodilla")?.value || null,
    cintura: document.getElementById("cintura")?.value || null,
    cadera: document.getElementById("cadera")?.value || null,
    brazoDerecho: document.getElementById("brazo-derecho")?.value || null,
    piernaDerecha: document.getElementById("pierna-derecha")?.value || null,
    cuello: document.getElementById("cuello")?.value || null,
    ejercicio: document.getElementById("ejercicio-select")?.value || null,
    RHR: document.getElementById("heartRate")?.value || null,
    frecuenciaEjercicio: document.getElementById("ejercicio-select")?.value === "true" ? document.getElementById("frequency")?.value : null,
    tiempoSinEjercicio: document.getElementById("ejercicio-select")?.value === "false" ? document.getElementById("exercise-time")?.value : null,
    fuma: document.getElementById("smoking-select")?.value || null,
    añosFumando: document.getElementById("smoking-select")?.value === "true" ? document.getElementById("smoking-years-select")?.value : null,
    tiempoSinFumar: document.getElementById("smoking-select")?.value === "false" ? document.getElementById("quit-smoking-time")?.value : null,
    cerveza: document.getElementById("beer")?.value || null,
    vinoEspumante: document.getElementById("wine")?.value || null,
    destilados: document.getElementById("spirits")?.value || null,
    timestamp: new Date().toISOString(),
  };

  try {
    const userId = transferreduserInfo;
    if (!userId) {
      throw new Error("User ID is not set in localStorage.");
    }

    const userRef = doc(db, "users", userId);
    const evaluationsRef = collection(userRef, "evaluation");
    const newDocRef = await addDoc(evaluationsRef, formData);

    console.log(`New evaluation added with ID: ${newDocRef.id}`);

    await updateDoc(userRef, {
      lastEvaluation: formData,
      lastEvaluationId: newDocRef.id,
      evaluation: true,
    });
    
    console.log("Evaluation field updated to true in the user's document.");
    localStorage.setItem("userInfo", JSON.stringify(formData));

    // Fetch census information and redirect accordingly
    const data = await getCensoInfo();
    if (data) {
      const isCensusChecked = data.isCensus;
      alert("Form submitted successfully!");
      window.location.href = isCensusChecked ? "index.html" : "index9.html";
    }
  } catch (error) {
    console.error("Error submitting the evaluation:", error);
    alert("Error submitting the evaluation. Please try again.");
  }
});


// Block initialization logic
const blocks = document.querySelectorAll('.Block');
let currentBlockIndex = 0;

function initializeBlocks() {
  blocks.forEach((block, index) => {
    block.classList.toggle('active', index === 0);
  });
}

function validateBlock(blockIndex) {
  const block = blocks[blockIndex];
  const requiredFields = block.querySelectorAll("[required]");
  let isValid = true;

  requiredFields.forEach((field) => {
    if (!field.value.trim()) {
      isValid = false;
      field.classList.add("error");
    } else {
      field.classList.remove("error");
    }
  });

  if (!isValid) {
    alert(`Please fill in all required fields in Block ${blockIndex + 1} before proceeding.`);
  }
  return isValid;
}

function showBlock(index) {
  blocks.forEach((block, i) => {
    block.classList.toggle('active', i === index);
  });
}

initializeBlocks();

document.getElementById('BtnTwo').addEventListener('click', () => {
  if (validateBlock(0)) {
    currentBlockIndex = 1;
    showBlock(currentBlockIndex);
  }
});

document.getElementById('BtnThree').addEventListener('click', () => {
  if (validateBlock(1)) {
    currentBlockIndex = 2;
    showBlock(currentBlockIndex);
  }
});

document.getElementById('BtnFour').addEventListener('click', () => {
  if (validateBlock(2)) {
    currentBlockIndex = 3;
    showBlock(currentBlockIndex);
  }
});







async function getUserinfo() {
  try {
    // Reference a document in the "revoFitweb" collection with ID "landing"
    const docRef = doc(db, 'users', transferreduserInfo);
    const docSnap = await getDoc(docRef);

    if (docSnap.exists()) {
      const documentData = docSnap.data(); // Store document data
      return documentData; // Return the data for external use
    } else {
      console.log("No such document!");
      return null; // Return null if no document is found
    }
  } catch (error) {
    console.error("Error fetching document:", error);
  }
}
document.addEventListener("DOMContentLoaded", () => {
  getUserinfo().then((userInfo) => {
    const { nombre, apellidoPaterno, apellidoMaterno, fechaNacimiento, genero } = userInfo;

    function weightErrorBlock(){
    const pesoInput = document.getElementById("peso");
    const errorMsg = document.getElementById("error-msg");
    if (!pesoInput || !errorMsg) {
      console.error("Elementos no encontrados en el DOM.");
      return;
    }
    pesoInput.addEventListener("input", function () {
      const peso = parseFloat(this.value);
      let min = 0, max = 0;

      if (genero === "Male") {
        min = 50;
        max = 200;
      } else if (genero === "Female") {
        min = 40;
        max = 150;
      } else {
        console.error("Género no reconocido:", genero);
        return;
      }

      if (!isNaN(peso) && peso >= min && peso <= max) {
        this.setCustomValidity("");
        errorMsg.style.display = "none";
      } else {
        this.setCustomValidity("Peso fuera del rango permitido");
        errorMsg.textContent = `El peso debe estar entre ${min}kg y ${max}kg.`;
        errorMsg.style.display = "block";
      }
    });
    }


    function heightErrorBlock() {
      const heightInput = document.getElementById("altura");
      const errorMsg = document.getElementById("error-msg-height");
      
      if (!heightInput || !errorMsg) {
        console.error("Elementos no encontrados en el DOM.");
        return;
      }
    
      heightInput.addEventListener("input", function () {
        const height = parseFloat(this.value);
        let min = 0, max = 0;
    
        if (genero === "Male") {
          min = 145; // Minimum reasonable male height in cm (5'0")
          max = 215; // Maximum reasonable male height in cm (7'0")
        } else if (genero === "Female") {
          min = 140; // Minimum reasonable female height in cm (4'7")
          max = 210; // Maximum reasonable female height in cm (6'7")
        } else {
          console.error("Género no reconocido:", genero);
          return;
        }
    
        if (!isNaN(height) && height >= min && height <= max) {
          this.setCustomValidity("");
          errorMsg.style.display = "none";
        } else {
          this.setCustomValidity("Altura fuera del rango permitido");
          errorMsg.textContent = `La altura debe estar entre ${min}cm y ${max}cm.`;
          errorMsg.style.display = "block";
        }
      });
    }


    function wristErrorBlock() {
      const wristInput = document.getElementById("muneca");
      const errorMsg = document.getElementById("error-msg-wrist");
    
      if (!wristInput || !errorMsg) {
        console.error("Elementos no encontrados en el DOM.");
        return;
      }
    
      wristInput.addEventListener("input", function () {
        const wrist = parseFloat(this.value);
        let min = 0, max = 0;
    
        if (genero === "Male") {
          min = 1.5; // Minimum reasonable male wrist size in cm
          max = 22; // Maximum reasonable male wrist size in cm
        } else if (genero === "Female") {
          min = 10; // Minimum reasonable female wrist size in cm
          max = 20; // Maximum reasonable female wrist size in cm
        } else {
          console.error("Género no reconocido:", genero);
          return;
        }
    
        if (!isNaN(wrist) && wrist >= min && wrist <= max) {
          this.setCustomValidity("");
          errorMsg.style.display = "none";
        } else {
          this.setCustomValidity("Tamaño de muñeca fuera del rango permitido");
          errorMsg.textContent = `El tamaño de muñeca debe estar entre ${min}cm y ${max}cm.`;
          errorMsg.style.display = "block";
        }
      });
    }


    function kneeErrorBlock() {
      const kneeInput = document.getElementById("rodilla");
      const errorMsg = document.getElementById("error-msg-Knee");
    
      if (!kneeInput || !errorMsg) {
        console.error("Elementos no encontrados en el DOM.");
        return;
      }
    
      kneeInput.addEventListener("input", function () {
        const knee = parseFloat(this.value);
        let min = 0, max = 0;
    
        if (genero === "Male") {
          min = 29; // Minimum reasonable male knee width in cm
          max = 60; // Maximum reasonable male knee width in cm
        } else if (genero === "Female") {
          min = 25; // Minimum reasonable female knee width in cm
          max = 58; // Maximum reasonable female knee width in cm
        } else {
          console.error("Género no reconocido:", genero);
          return;
        }
    
        if (!isNaN(knee) && knee >= min && knee <= max) {
          this.setCustomValidity("");
          errorMsg.style.display = "none";
        } else {
          this.setCustomValidity("Tamaño de rodilla fuera del rango permitido");
          errorMsg.textContent = `El tamaño de la rodilla debe estar entre ${min}cm y ${max}cm.`;
          errorMsg.style.display = "block";
        }
      });
    }
  
    function waistErrorBlock() {
      const waistInput = document.getElementById("cintura");
      const errorMsg = document.getElementById("error-msg-waist");
    
      if (!waistInput || !errorMsg) {
        console.error("Elementos no encontrados en el DOM.");
        return;
      }
    
      waistInput.addEventListener("input", function () {
        const waist = parseFloat(this.value);
        let min = 0, max = 0;
    
        if (genero === "Male") {
          min = 55; // Minimum reasonable male waist size in cm
          max = 150; // Maximum reasonable male waist size in cm
        } else if (genero === "Female") {
          min = 50; // Minimum reasonable female waist size in cm
          max = 150; // Maximum reasonable female waist size in cm
        } else {
          console.error("Género no reconocido:", genero);
          return;
        }
    
        if (!isNaN(waist) && waist >= min && waist <= max) {
          this.setCustomValidity("");
          errorMsg.style.display = "none";
        } else {
          this.setCustomValidity("Tamaño de cintura fuera del rango permitido");
          errorMsg.textContent = `El tamaño de la cintura debe estar entre ${min}cm y ${max}cm.`;
          errorMsg.style.display = "block";
        }
      });
    }

    function hipsErrorBlock() {
      const hipsInput = document.getElementById("cadera");
      const errorMsg = document.getElementById("error-msg-hips");
    
      if (!hipsInput || !errorMsg) {
        console.error("Elementos no encontrados en el DOM.");
        return;
      }
    
      hipsInput.addEventListener("input", function () {
        const hips = parseFloat(this.value);
        let min = 0, max = 0;
    
        if (genero === "Male") {
          min = 75; // Minimum reasonable male hips size in cm
          max = 176; // Maximum reasonable male hips size in cm
        } else if (genero === "Female") {
          min = 77; // Minimum reasonable female hips size in cm
          max = 150; // Maximum reasonable female hips size in cm
        } else {
          console.error("Género no reconocido:", genero);
          return;
        }
    
        if (!isNaN(hips) && hips >= min && hips <= max) {
          this.setCustomValidity("");
          errorMsg.style.display = "none";
        } else {
          this.setCustomValidity("Tamaño de cadera fuera del rango permitido");
          errorMsg.textContent = `El tamaño de la cadera debe estar entre ${min}cm y ${max}cm.`;
          errorMsg.style.display = "block";
        }
      });
    }
    
    function rightArmErrorBlock() {
      const rightArmInput = document.getElementById("brazo-derecho");
      const errorMsg = document.getElementById("error-msg-arm");
    
      if (!rightArmInput || !errorMsg) {
        console.error("Elementos no encontrados en el DOM.");
        return;
      }
    
      rightArmInput.addEventListener("input", function () {
        const rightArm = parseFloat(this.value);
        let min = 0, max = 0;
    
        if (genero === "Male") {
          min = 19; // Minimum reasonable male right arm size in cm
          max = 65; // Maximum reasonable male right arm size in cm
        } else if (genero === "Female") {
          min = 15; // Minimum reasonable female right arm size in cm
          max = 66; // Maximum reasonable female right arm size in cm
        } else {
          console.error("Género no reconocido:", genero);
          return;
        }
    
        if (!isNaN(rightArm) && rightArm >= min && rightArm <= max) {
          this.setCustomValidity("");
          errorMsg.style.display = "none";
        } else {
          this.setCustomValidity("Tamaño del brazo derecho fuera del rango permitido");
          errorMsg.textContent = `El tamaño del brazo derecho debe estar entre ${min}cm y ${max}cm.`;
          errorMsg.style.display = "block";
        }
      });
    }

    function rightLegErrorBlock() {
      const rightLegInput = document.getElementById("pierna-derecha");
      const errorMsg = document.getElementById("error-msg-leg");
    
      if (!rightLegInput || !errorMsg) {
        console.error("Elementos no encontrados en el DOM.");
        return;
      }
    
      rightLegInput.addEventListener("input", function () {
        const rightLeg = parseFloat(this.value);
        let min = 0, max = 0;
    
        if (genero === "Male") {
          min = 33; // Minimum reasonable male right leg size in cm
          max = 75; // Maximum reasonable male right leg size in cm
        } else if (genero === "Female") {
          min = 30; // Minimum reasonable female right leg size in cm
          max = 77; // Maximum reasonable female right leg size in cm
        } else {
          console.error("Género no reconocido:", genero);
          return;
        }
    
        if (!isNaN(rightLeg) && rightLeg >= min && rightLeg <= max) {
          this.setCustomValidity("");
          errorMsg.style.display = "none";
        } else {
          this.setCustomValidity("Tamaño de pierna derecha fuera del rango permitido");
          errorMsg.textContent = `El tamaño de la pierna derecha debe estar entre ${min}cm y ${max}cm.`;
          errorMsg.style.display = "block";
        }
      });
    }


    function neckErrorBlock() {
      const neckInput = document.getElementById("cuello");
      const errorMsg = document.getElementById("error-msg-neck");
    
      if (!neckInput || !errorMsg) {
        console.error("Elementos no encontrados en el DOM.");
        return;
      }
    
      neckInput.addEventListener("input", function () {
        const neck = parseFloat(this.value);
        let min = 0, max = 0;
    
        if (genero === "Male") {
          min = 35; // Minimum reasonable male neck size in cm
          max = 45; // Maximum reasonable male neck size in cm
        } else if (genero === "Female") {
          min = 30; // Minimum reasonable female neck size in cm
          max = 40; // Maximum reasonable female neck size in cm
        } else {
          console.error("Género no reconocido:", genero);
          return;
        }
    
        if (!isNaN(neck) && neck >= min && neck <= max) {
          this.setCustomValidity("");
          errorMsg.style.display = "none";
        } else {
          this.setCustomValidity("Tamaño de cuello fuera del rango permitido");
          errorMsg.textContent = `El tamaño del cuello debe estar entre ${min}cm y ${max}cm.`;
          errorMsg.style.display = "block";
        }
      });
    }
    











    neckErrorBlock()
    rightLegErrorBlock()
    rightArmErrorBlock()

    hipsErrorBlock()
    waistErrorBlock()
    kneeErrorBlock()
    wristErrorBlock()
    heightErrorBlock()

    weightErrorBlock()
  })




});

document.addEventListener("DOMContentLoaded", function () {
  function setupDropdownListener(mainSelectId, yesExtraId, noExtraId, mainQuestionId) {
      const mainSelect = document.getElementById(mainSelectId);
      const yesExtra = document.getElementById(yesExtraId);
      const noExtra = document.getElementById(noExtraId);
      const mainQuestion = document.getElementById(mainQuestionId);

      if (!mainSelect || !yesExtra || !noExtra || !mainQuestion) return;

      mainSelect.addEventListener("change", function () {
          if (mainSelect.value === "true") {
              yesExtra.style.display = "flex";
              noExtra.style.display = "none";
          } else if (mainSelect.value === "false") {
              yesExtra.style.display = "flex";
              noExtra.style.display = "none";
          } else {
              yesExtra.style.display = "none";
              noExtra.style.display = "none";
          }

          if (mainSelect.value) {
              mainQuestion.style.display = "none";
          } else {
              mainQuestion.style.display = "flex";
          }
      });
  }
  function setupDropdownListeneralcohol() {
    const mainSelectBlock = document.getElementById("main-question-drink");
    const mainSelect = document.getElementById("drink-select");
    const drinkTittle = document.getElementById("drink-consumption");
    const ChooseDrink = document.getElementById("ChooseDrink");
    const drinkAmount = document.getElementById("drink-category-amount");
    const yesExtra = document.getElementById("yes-extra-question-drink");
    const noExtra = document.getElementById("no-extra-question-drink");
    const drinkSelect =document.getElementById("Drink");
    

    if (!mainSelect || !drinkTittle || !ChooseDrink || !drinkAmount || !yesExtra || !noExtra || !drinkSelect) return;

    mainSelect.addEventListener("change", function () {
        if (mainSelect.value === "true") {
            mainSelectBlock.style.display = "none";
            drinkTittle.style.display = "flex";
            ChooseDrink.style.display = "flex";
            drinkAmount.style.display = "none";
            yesExtra.style.display    = "none";
            noExtra.style.display     = "none";
        
        
          } else {
            mainSelectBlock.style.display = "none";
            noExtra.style.display = "flex";
            

        }
    });

    drinkSelect.addEventListener("change", function () {
        if (["Cerveza", "Vino", "Destilados"].includes(drinkSelect.value)) {
            mainSelectBlock.style.display = "none";
            drinkTittle.style.display     = "none";
            drinkTittle.style.display     = "none";
            ChooseDrink.style.display      = "none";
            drinkAmount.style.display = "flex"; // Show the amount selection if the drink is selected
        } else {
            ChooseDrink.style.display = "flex";; // Hide the amount selection if other options are selected
        }
    });
  }

  setupDropdownListeneralcohol();









  function setupDropdownListenersmoking() {
    const mainSelectBlock = document.getElementById("main-question-drink");
    const smoking = document.getElementById("smoking-select");
    const yesExtra = document.getElementById("yes-smoking-extra");
    const noExtra = document.getElementById("no-smoking-extra");
    

    if (!mainSelectBlock || !smoking || !yesExtra || !noExtra ) return;

    smoking.addEventListener("change", function () {
        if (smoking.value === "true") {
            mainSelectBlock.style.display = "none";
            yesExtra.style.display        = "flex";
            noExtra.style.display         = "none";
        }else {
            mainSelectBlock.style.display = "none";
            yesExtra.style.display        = "none";
            noExtra.style.display         = "flex";
        }

       
    });
  }








setupDropdownListenersmoking();





  setupDropdownListener("ejercicio-select", "yes-extra-question", "no-extra-question", "main-question-ejercicio");
  
});

document.addEventListener("DOMContentLoaded", function () {
 // Generalized function for checkbox logic
 function handleCheckboxToggle(checkboxId, blockId) {
  const checkbox = document.getElementById(checkboxId);
  const block = document.getElementById(blockId);

  if (checkbox && block) {
    block.style.display = "none";

    checkbox.addEventListener("change", function () {
      block.style.display = checkbox.checked ? "flex" : "none";
    });
  }
}

// Apply checkbox logic for conditions
const conditions = [
  { checkboxId: "Hipercolesteremia", blockId: "HipercolesteremiaTratadoBlock" },
  { checkboxId: "Diabetes", blockId: "DiabeteTratadoBlock" },
  { checkboxId: "Obesidad", blockId: "ObesidadTratadoBlock" },
  { checkboxId: "HígadoGraso", blockId: "HígadoGrasoTratadoBlock" },
  { checkboxId: "OtraECNT", blockId: "OtraECNTTratadoBlock" },
  { checkboxId: "Lupus", blockId: "LupusTratadoBlock" },
  { checkboxId: "Celíaca", blockId: "CelíacaTratadoBlock" },
  { checkboxId: "Cáncer", blockId: "CáncerTratadoBlock" },
  { checkboxId: "VIH", blockId: "VIHTratadoBlock" },
  { checkboxId: "Artritis", blockId: "ArtritisTratadoBlock" },
  { checkboxId: "OEA", blockId: "OEATratadoBlock" },
];

conditions.forEach(({ checkboxId, blockId }) => handleCheckboxToggle(checkboxId, blockId));
});
 










async function getItemsFromDB() {
  try {
    // Reference a document in the "revoFitweb" collection with ID "landing"
    const docRef = doc(db, 'RevoBuissnes', transferredInfo);
    const docSnap = await getDoc(docRef);

    if (docSnap.exists()) {
      const documentData = docSnap.data(); // Store document data
      return documentData; // Return the data for external use
    } else {
      console.log("No such document!");
      return null; // Return null if no document is found
    }
  } catch (error) {
    console.error("Error fetching document:", error);
  }
}
getItemsFromDB().then((data) => {
  const UBU = data.UBU;
  
  const BuIcon = UBU.BuIcon;
  const{BuDark, BuLight} = BuIcon

  const Evaluation = data.Evaluation;
  const {TextCon, tittle} = Evaluation.EtextContent;




  const {Base, Prime1, Prime2, Prime3} = UBU.Colors;

  function GetBuFont(fontFamily) {
    document.body.style.fontFamily = fontFamily;
   }
   GetBuFont(data.UBU.font);

  function renderLeft(){

    function RenderTextInfo(title, titleText, urlId){

      // Create elements for title, title text, question, input, and button
      const h1 = document.createElement("h1");
      const p = document.createElement("p");
      // Set text and attributes for the elements
      h1.textContent = title;
      p.textContent = titleText;

      const courseBannerElement = document.getElementById(urlId);
      if (courseBannerElement) {
      courseBannerElement.appendChild(h1);
      courseBannerElement.appendChild(p);
      }

    }
    function renderBackgroundColors(color, Tcolor, urlId){
      const LeftBgColor = document.getElementById(urlId);
      if (LeftBgColor) {
        LeftBgColor.style.backgroundColor = color;  
        LeftBgColor.style.color = Tcolor;  
        
      } else {
          console.error('Element with ID "TextContent" not found.');
      }
    }

    // Render Text & Tittle color
    RenderTextInfo(tittle, TextCon, 'TextContent')
     //Render background color
    renderBackgroundColors(Base, Prime2, 'TextContent')

  }
 
  renderLeft()



  function renderRight(){
      const ReviewIcons = Evaluation.ReviewIcons;
    
      
      // Mapping of icon data to parent element IDs
      const icons = [
          { src: ReviewIcons.PIcon, alt: 'Weight Icon', parentId: 'pIcon' },
          { src: ReviewIcons.aIcon, alt: 'Height Icon', parentId: 'aIcon' },
          { src: ReviewIcons.RIcon, alt: 'Wrist Icon', parentId: 'rIcon' },
          { src: ReviewIcons.KIcon, alt: 'Knee Icon', parentId: 'kIcon' },
          { src: ReviewIcons.CIcon, alt: 'Waist Icon', parentId: 'wIcon' },
          { src: ReviewIcons.HipIcon, alt: 'Hips Icon', parentId: 'hIcon' },
          { src: ReviewIcons.Ticon, alt: 'Arm Icon', parentId: 'tIcon' },
          { src: ReviewIcons.Licon, alt: 'Leg Icon', parentId: 'lIcon' },
          { src: ReviewIcons.Nicon, alt: 'Neck Icon', parentId: 'nIcon' },
          { src: ReviewIcons.HrIcon, alt: 'Heart Rate Icon', parentId: 'hrIcon' },
      ];
    
      // Reusable function to create and append icons
      function createIcon(src, alt, parentId, styles = {}) {
          const img = document.createElement('img');
          img.src = src;
          img.alt = alt;
    
          // Apply styles to the image
          Object.entries(styles).forEach(([key, value]) => {
              img.style[key] = value;
          });
    
          // Find and validate the parent element
          const parent = document.getElementById(parentId);
          if (parent && parent.classList.contains('qIcon')) {
              parent.appendChild(img);
          } else {
              console.error(
                  `Parent element with ID "${parentId}" and class "qIcon" not found.`
              );
          }
      }
    
      // Loop through the icons array and create each icon
      icons.forEach(({ src, alt, parentId }) => {
          createIcon(src, alt, parentId, { width: '60px', height: '60px' });
      });

    function renderBtnColor(Bcolor, Tcolor){
      // Extract colors
      const backgroundColor = Bcolor|| '#ffffff'; 
      // Default to white if undefined
      const textColor = Tcolor|| '#000000'; 
       // Default to black if undefined

      // List of button IDs
      const buttonIds = ['BtnTwo', 'BtnThree', 'BtnFour'];

      // Apply styles to each button
      buttonIds.forEach((id) => {
          const button = document.getElementById(id);
          if (button) {
              button.style.backgroundColor = backgroundColor;
              button.style.color = textColor;
          } else {
              console.error(`Element with ID "${id}" not found.`);
          }
      });
    }
    function setCheckboxAccentColor(color) {
      // Create a <style> element if it doesn't already exist
      let styleElement = document.getElementById('dynamicCheckboxStyles');
      
      if (!styleElement) {
          styleElement = document.createElement('style');
          styleElement.id = 'dynamicCheckboxStyles';
          document.head.appendChild(styleElement);
      }
    
      // Update the style content
      styleElement.textContent = `
          input[type="checkbox"] {
              accent-color: ${color};
          }
      `;
    }
    function renderBackgroundColors(color, urlId){
      const LeftBgColor = document.getElementById(urlId);
      if (LeftBgColor) {
        LeftBgColor.style.backgroundColor = color;    
      } else {
          console.error('Element with ID "TextContent" not found.');
      }
    }
    function renderBuIcon(newSrc, imgId) {
      const imgElement = document.getElementById(imgId);
      if (imgElement) {
          imgElement.src = newSrc;
      } else {
          console.error(`Image element with ID "${imgId}" not found.`);
      }
    }
      
    setCheckboxAccentColor(Base)
    renderBtnColor(Base, Prime2)
    // HearderMobile Color
    renderBackgroundColors(Prime1, 'mobileImg')
    // FromBackground Color
    renderBackgroundColors(Prime3, 'RegistroBlock')
    // Line top Background Color
    renderBackgroundColors(Base, 'lines')


    renderBuIcon(BuLight, 'IconLogo' )






 




  }
  renderRight()

})
