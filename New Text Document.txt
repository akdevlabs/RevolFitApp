



.AppTop{
  
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 2rem;
 

}
#userName h2{
  font-size:1.18rem ;
  font-weight: 300;
  margin-bottom: -1rem;
}
#AppTittle h1{
  font-size:2.5rem ;
  font-weight: 600;
}
#lastTime {
  font-size: 1.18rem;
  font-weight: 600;

 
}



.AppImgBlock{
  gap: 2rem;
  display: flex;
  flex-direction: column;
  align-items: center;
}
#Icon img{
  width: 3rem;
}
#userImg{
  width: 4rem;
}

@media (max-width: 700px) {

 

  #userName{
    font-size: .8rem;
    font-weight: 100;
  }
  #userImg{
    width:  2rem;
    height: 2rem;
  }
  .ResultsBlock{
    margin-top: -2rem;
  }
  .ResultsTittleBlock{
    width: 10rem;
    margin: 1rem 1.5rem;
  }
  .ResultsTittleBlock h1{
    font-size: 1rem;
    font-weight: normal;
  }
  .Results-Container{
    width: 100%;
    gap: 1rem;
    display: flex;
    justify-content: center;
   
  }
  .Results-Container div img{
    width:  2rem;
    height: 2rem;
  }
  .Results-Container div h1{
    font-size: 1rem;
  }
  .Results-Container div{
 
    display: flex;
    flex-direction: column;
    border-radius: 1rem;
    padding: 1.3rem 4rem 1.3rem 1rem;
  


  }
  

#plans {
  gap: 2rem;
  display: flex;
  justify-content: center;
}





















  .planBlocktittle{
    color: #fff;
    display: flex;
    align-items: center;
    margin: 0 2rem;
    justify-content: space-between;
  }
  .Btnblock{
    display: flex;
    justify-content: center;
    margin: 1rem 0;
  }
  .Btnblock a{
    font-size: 2rem;
    font-weight: 500;
    padding: .6rem 3rem;
    border-radius: 1rem;
    text-decoration: none;
  }

  .navBtns{
    gap: 2rem;
    display: flex;
    margin: 2rem 0;
    justify-content: center;
  }

  .navBtns div img{
    width:  2rem;
    height: 2rem;
  }






}



















// General function to fetch document data
async function fetchDocumentData(docPath, transferredInfo) {
  try {
      const docRef = doc(db, docPath, transferredInfo);
      const docSnap = await getDoc(docRef);

      if (docSnap.exists()) {
          return docSnap.data(); // Return the document data
      } else {
          console.log("No such document!");
          return null;
      }
  } catch (error) {
      console.error("Error fetching document:", error);
      return null;
  }
}


// General function to create and append an element (image or h1) to a specified div
function createElementInDiv(divId, elementType, attributes = {}, textContent = "") {
  const div = document.getElementById(divId);

  if (!div) {
      console.error(`Div with id '${divId}' not found.`);
      return;
  }

  const element = document.createElement(elementType);

  // Set attributes if provided
  Object.keys(attributes).forEach(attr => {
      element[attr] = attributes[attr];
  });

  // Set text content if provided
  if (textContent) {
      element.textContent = textContent;
  }

  div.appendChild(element);
}
// Fetch and use the document data
fetchDocumentData("RevoBuissnes", transferredInfo).then
(data => {
  if (!data) return;

  const appData = data.App;
  const ResultIcons = appData.ResultIcons;






  // Cal section
  createElementInDiv("cal", "img", { 
    src: ResultIcons.fire, 
    alt: "Fire icon" });
  createElementInDiv("cal", "h1", {}, "2100");

  // Time section
  createElementInDiv("Time", "img", { 
    src: ResultIcons.time, 
    alt: "Time icon" });
  createElementInDiv("Time", "h1", {}, "21h");

  // Weight section
  createElementInDiv("weight", "img", { 
    src: ResultIcons.weight, 
    alt: "Weight icon" });
  createElementInDiv("weight", "h1", {}, "21h");
});





















async function getWorkouts() {
  try {
    const docRef = doc(db, "RevoBuissnes", transferredInfo); // Ensure db and transferredInfo are initialized
    const docSnap = await getDoc(docRef);

    if (docSnap.exists()) {
      const documentData = docSnap.data();
      return documentData; // Return the document data
    } else {
      console.error("No such document!");
      return null;
    }
  } catch (error) {
    console.error("Error fetching document:", error);
    return null;
  }
}

getWorkouts().then((data) => {
  const app = data.App;
  const UBU = data.UBU;

  const { Base, Prime1, Prime2 } = UBU.Colors;

  const { Gym, Home } = app.workoutBtns;
  const GymImg = Gym.backgroundImg;
  const HImg = Home.backgroundImg;

  let previousSelectedButton = null;

  // Function to create buttons
  function createGymImageAndHeading1(ImgScr, Btext, DivId, workoutLocation) {
    const workoutDiv = document.getElementById(DivId);

    if (!workoutDiv) {
      console.error('Div with the provided ID does not exist.');
      return;
    }

    const button = document.createElement('button');
    button.style.backgroundImage = `url('${ImgScr}')`;
    button.style.backgroundSize = 'cover';
    button.style.backgroundPosition = 'center';
    button.style.width = '10rem';
    button.style.height = '10rem';
    button.style.border = 'none';
    button.style.borderRadius = '2rem';
    button.style.backgroundColor = 'transparent';

    button.innerHTML = `<span style="
      display: inline-block;
      background-color: ${Base}; 
      color: ${Prime2}; 
      padding: 5px 10px; 
      border-radius: 5px;
      position: relative;
      top: 50%;
      transform: translateY(-50%);
    ">${Btext}</span>`;

    button.addEventListener('click', () => {
      handleButtonClick(workoutLocation, DivId);
      highlightButton(button);
    });

    workoutDiv.appendChild(button);
  }

  // Handle button click
  function handleButtonClick(workoutLocation, DivId) {
    console.log(`Button clicked: ${workoutLocation}`);
    addWorkoutLocation(workoutLocation);

    if (workoutLocation === 'Gym') {
      createSeeAllLink(DivId, 'index9.1.1.html');
    } else if (workoutLocation === 'Home') {
      createSeeAllLink(DivId, 'index9.1.2.html');
    }
  }

  // Highlight the selected button
  function highlightButton(button) {
    if (previousSelectedButton) {
      previousSelectedButton.style.boxShadow = 'none';
    }
    button.style.boxShadow = `0 0 15px 5px ${Prime2}`;
    fillBackgroundProgressively();
    previousSelectedButton = button;
  }

  // Create the "See All" link
  function createSeeAllLink(DivId, redirectUrl) {
    const workoutDiv = document.getElementById(DivId);

    if (!workoutDiv) {
      console.error('Div with the provided ID does not exist.');
      return;
    }

    if (document.getElementById('See')) {
      console.log('Link already exists.');
      return;
    }

    const link = document.createElement('a');
    link.id = 'See';
    link.href = redirectUrl;
    link.innerText = 'See All';
    link.style.display = 'block';
    link.style.marginTop = '10px';
    link.style.textDecoration = 'none';
    link.style.color = Base;
    link.style.fontWeight = 'bold';

    workoutDiv.appendChild(link);
  }

  // Fill the background of the start button progressively
  function fillBackgroundProgressively() {
    const startBtn = document.getElementById('startBtn');

    startBtn.style.position = 'relative';
    startBtn.style.overflow = 'hidden';
    startBtn.style.color = `${Prime2}`;
    startBtn.style.zIndex = '1';

    const progressBar = document.createElement('div');
    progressBar.style.position = 'absolute';
    progressBar.style.top = '0';
    progressBar.style.left = '0';
    progressBar.style.height = '100%';
    progressBar.style.width = '0';
    progressBar.style.backgroundColor = `${Prime1}`;
    progressBar.style.transition = 'width 3s linear';
    progressBar.style.zIndex = '-1';

    startBtn.appendChild(progressBar);

    setTimeout(() => {
      progressBar.style.width = '100%';
    }, 100);
  }

  // Add workout location to localStorage
  function addWorkoutLocation(newLocation) {
    const locations = JSON.parse(localStorage.getItem('workoutLocations')) || [];
    locations.push(newLocation);
    localStorage.setItem('workoutLocations', JSON.stringify(locations));
  }

  // Get the most recently added workout location
  function getNewestWorkoutLocation() {
    const locations = JSON.parse(localStorage.getItem('workoutLocations')) || [];
    return locations.length > 0 ? locations[locations.length - 1] : null;
  }

  // Render shadow box for the start button
  function renderCalShadowBox() {
    const calDiv = document.getElementById('startBtn');

    if (!calDiv) {
      console.error("Element with ID 'startBtn' not found.");
      return;
    }

    calDiv.style.color = Prime1;
    calDiv.style.boxShadow = `0px 4px 10px ${Prime1}`;
    calDiv.style.backgroundColor = 'transparent';
    calDiv.style.border = `5px solid ${Prime1}`;
    calDiv.style.transition = 'background-color 3s ease-in-out';
  }

  renderCalShadowBox();
  createGymImageAndHeading1(GymImg, 'Rutina en Gym', 'Gym', 'Gym');
  createGymImageAndHeading1(HImg, 'Rutina en Casa', 'Home', 'Home');

  const newestLocation = getNewestWorkoutLocation();
  if (newestLocation) {
    console.log(`Most recently selected: ${newestLocation}`);
  }
});



































async function getResultsContainerColors() {
  try {
    const docRef = doc(db, "RevoBuissnes", transferredInfo); // Ensure db and transferredInfo are initialized
    const docSnap = await getDoc(docRef);

    if (docSnap.exists()) {
      const documentData = docSnap.data();
      return documentData; // Return the document data
    } else {
      console.error("No such document!");
      return null;
    }
  } catch (error) {
    console.error("Error fetching document:", error);
    return null;
  }
}
// Fetch and use the document data
getResultsContainerColors().then((data) => {
  if (!data || !data.App) {
    console.error("Invalid data structure or missing App property.");
    return;
  }
  
  const App = data.UBU;
  const Colors = App.Colors;
  const Base = Colors.Base;
  const Prime1 = Colors.Prime1;
  const Prime2 = Colors.Prime2;

  function applyShadowBoxStyles(elementId, { color, boxShadowColor, backgroundColor, borderColor }) {
    // Select the element by ID
    const element = document.getElementById(elementId);

    // Check if the element exists
    if (!element) {
      console.error(`Element with ID '${elementId}' not found.`);
      return;
    }

    // Apply styles dynamically
    element.style.color = color;
    element.style.boxShadow = `0px 4px 10px ${boxShadowColor}`;
    element.style.backgroundColor = backgroundColor;
    element.style.border = `2px solid ${borderColor}`;
  }
  function changeTextColors(newColor) {
    const appTop = document.getElementById("AppTop");
    if (appTop) {
      const textElements = appTop.querySelectorAll("*"); // Selects all child elements
      textElements.forEach(element => {
        element.style.color = newColor; // Changes text color
      });
    } else {
      console.error("Element with id 'AppTop' not found.");
    }
  }
  
  // Example usage:
  changeTextColors(Base);

  // Render shadow boxes with dynamic colors
  applyShadowBoxStyles('cal', {
    color: Prime2,
    boxShadowColor: Prime1,
    backgroundColor: Base,
    borderColor: Prime1,
  });

  applyShadowBoxStyles('Time', {
    color: Prime2,
    boxShadowColor: Prime1,
    backgroundColor: Base,
    borderColor: Prime1,
  });

  applyShadowBoxStyles('weight', {
    color: Prime2,
    boxShadowColor: Prime1,
    backgroundColor: Base,
    borderColor: Prime1,
  });
});

// Bottom Icons
async function getBtnIcons() {
  try {
    const docRef = doc(db, "RevoBuissnes", transferredInfo);
    const docSnap = await getDoc(docRef);

    if (docSnap.exists()) {
      const documentData = docSnap.data();
      return documentData; // Return the document data
    } else {
      console.log("No such document!");
      return null;
    }
  } catch (error) {
    console.error("Error fetching document:", error);
    return null;
  }
}
getBtnIcons().then((data) => {
  const App = data.App;
  const Btns = App.Btns;

  function createButton(buttonType, divId, imgSrcIndex, redirectUrl, imgAlt = "Example image") {
    const buttonGroup = Btns[buttonType];
    const imgSrc = buttonGroup[imgSrcIndex];

    const div = document.getElementById(divId);
    if (!div) {
      console.error(`Div with id '${divId}' not found.`);
      return;
    }

    const img = document.createElement("img");
    img.src = imgSrc;
    img.alt = imgAlt;
    img.addEventListener("click", () => {
      window.location.href = redirectUrl;
    });

    div.appendChild(img);
  }

  const buttonsConfig = [
    { buttonType: "homeBtns", divId: "home", imgSrcIndex: 0, redirectUrl: "index9.html" },
    { buttonType: "DateBtns", divId: "Date", imgSrcIndex: 1, redirectUrl: "index9.2.html" },
    { buttonType: "GoalBtns", divId: "goals", imgSrcIndex: 1, redirectUrl: "index9.3.html" },
    { buttonType: "StatBtns", divId: "stats", imgSrcIndex: 1, redirectUrl: "index9.4.html" },
    { buttonType: "GearBtns", divId: "gear", imgSrcIndex: 1, redirectUrl: "index9.5.html" },
  ];

  buttonsConfig.forEach(({ buttonType, divId, imgSrcIndex, redirectUrl }) => {
    createButton(buttonType, divId, imgSrcIndex, redirectUrl);
  });
});

async function backgroundColor() {
  try {
    const docRef = doc(db, "RevoBuissnes", transferredInfo); // Ensure db and transferredInfo are initialized
    const docSnap = await getDoc(docRef);

    if (docSnap.exists()) {
      const documentData = docSnap.data();
      return documentData; // Return the document data
    } else {
      console.error("No such document!");
      return null;
    }
  } catch (error) {
    console.error("Error fetching document:", error);
    return null;
  }
}
backgroundColor().then((data) => {
  const UBU = data.UBU;
  const { top, center, bottom } = UBU.BackgroundColor;
  const { Base, Prime1, Prime2, Prime3 } = UBU.Colors;
// Function to change the background gradient dynamically
function setGradient(color1, color2, color3) {


  document.body.style.overflow = 'hidden';

 

  document.body.style.background = `linear-gradient(to bottom, ${color1}, ${color2}, ${color3})`;
}

// Example usage:
setGradient(top, center, bottom);

});
document.addEventListener('touchstart', function (event) {
  if (event.touches.length > 1) {
    event.preventDefault(); // Prevents zooming
  }
}, { passive: false });

